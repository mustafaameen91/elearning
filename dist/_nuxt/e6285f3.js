(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{516:function(t,e,r){var content=r(690);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(16).default)("3430e31c",content,!0,{sourceMap:!1})},689:function(t,e,r){"use strict";r(516)},690:function(t,e,r){var o=r(15)(!1);o.push([t.i,"@import url(https://fonts.googleapis.com/css2?family=Cairo:wght@200;300;400;600;700;900&display=swap);"]),o.push([t.i,'.theme--dark.v-application{font-family:"Cairo",sans-serif}.theme--dark.v-application,.theme--dark.v-picker__body{background:#2c313a!important;color:#e4e0e7!important}.theme--dark.v-list{background:#2c313a}.theme--light.v-application{background:#c9ccd5;color:#2c313a;font-family:"Cairo",sans-serif}.shadow-1{box-shadow:0 10px 10px 0 rgba(0,0,0,.1)!important}.radius-1{border-radius:1em!important}.theme--dark.v-data-table>.v-data-table__wrapper>table>tbody>tr:hover:not(.v-data-table__expanded__content):not(.v-data-table__empty-wrapper){background-color:#2c313a!important;color:#fff}.hover__preview{position:fixed;top:0;left:0;right:0;margin:0 auto;visibility:hidden;opacity:0;z-index:2000;width:100vw;height:100vh;display:flex;align-items:center;justify-content:center;pointer-events:none}.hover__preview__content{width:300px;height:300px;margin-right:auto;position:absolute;top:50px;left:50px}.hover__preview__content img{display:block;width:100%;height:100%;border-radius:1em;position:relative;z-index:500}.table__image{display:block;width:40px;height:40px;border-radius:.3em}.table__image:hover~.hover__preview{visibility:visible;opacity:1;display:block}.comments{display:flex;flex-direction:column;align-items:flex-start;justify-content:center;cursor:pointer;padding:.3em 1em}.comments__divider{width:100%;height:1px;background-color:hsla(0,0%,95.3%,.01961);margin:.5em 0}.comments__header{flex-direction:column}.comments__header,.comments__header__user{width:100%;display:flex;align-items:center;justify-content:space-between}.comments__header__user{font-size:1.2em}.comments__header__date{align-items:center;font-size:.67em}.comments__body,.comments__header__date{width:100%;display:flex;justify-content:flex-start}.comments__body{flex-direction:column;align-items:flex-start;word-wrap:normal}.comments__body__content{width:100%;display:flex;align-items:center;justify-content:flex-start;font-size:.88em;word-break:break-all;line-height:1.5}',""]),t.exports=o},735:function(t,e,r){"use strict";r.r(e);r(7),r(8),r(9),r(13),r(6),r(14);var o=r(2),n=r(29);r(108),r(88),r(72),r(33),r(81),r(24);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function l(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var d={data:function(){return{search:"",dates:[],datesMenu:!1,commentsDialog:!1,comments:[],videoCourseCount:[],distributorsDialog:!1,distributors:[],distributorsHeaders:[{text:"المعرف",align:"start",value:"user.idUser",sortable:!1},{text:"اسم الموزع",align:"start",value:"user.userName",sortable:!1},{text:"رقم الهاتف",align:"start",value:"user.phone",sortable:!1},{text:"المحافطة",align:"start",value:"user.province.provinceName",sortable:!1},{text:"الحالة",align:"start",value:"distributorStatus",sortable:!1},{text:"الاجرائات",align:"start",value:"actions",sortable:!1}],headers:[{text:"الصورة",align:"start",value:"coursePath",sortable:!1},{text:"المعرف",align:"start",value:"idCourse",sortable:!1},{text:"اسم الكورس",value:"courseTitle",sortable:!1},{text:"التقيم",value:"courseRate",sortable:!1},{text:"عدد الفيديوات",value:"CourseVideo.length",sortable:!1},{text:"سعر الكورس",value:"coursePrice",sortable:!1},{text:"سعر المنصة",value:"platformPrice",sortable:!1},{text:"المادة",value:"subject.subjectName",sortable:!1},{text:"الصف",value:"subject.class.className",sortable:!1},{text:"التاريخ",value:"createdAt",sortable:!1},{text:"الاجرائات",value:"actions",sortable:!1,width:300}],courses:[]}},computed:{dateRangeText:function(){return this.dates.join(" ~ ")}},filters:{theStatus:function(t){return"ACCEPTED"===t?"success":"PENDING"===t?"warning":"error"}},mounted:function(){this.GetCourses()},head:function(){return{title:"الكورسات"}},methods:{GetCourses:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.get("courses");case 3:r=e.sent,console.log(r.data),t.courses=r.data.map((function(t){return l(l({},t),{},{createdAt:t.createdAt.split("T")[0]})})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},OpenCourse:function(t){var e=window.innerWidth,r=window.innerHeight;window.open("/courses/".concat(t.idCourse,"/"),"_blank","location=yes,height=".concat(r,",width=").concat(e,",scrollbars=yes,status=yes"))},deleteCourse:function(t){var e=this;confirm("هل تريد حذف الكورس ؟")&&this.$axios.delete("course/".concat(t.idCourse)).then((function(t){e.GetCourses()})).catch((function(t){console.error(t.response)}))},SaveDate:function(t){this.$refs.datesMenuRef.save(t)},getDistributors:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var o,n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=t,e.$nuxt.$loading.start(),r.prev=2,r.next=5,e.$axios.get("courseDistributors/".concat(o));case 5:n=r.sent,e.$nuxt.$loading.finish(),e.distributorsDialog=!0,e.distributors=n.data,console.log(n.data),r.next=17;break;case 12:r.prev=12,r.t0=r.catch(2),console.error(r.t0.response),e.$toast.error("لا يوجد موزعين",{position:"top-center",duration:3e3}),e.$nuxt.$loading.finish();case 17:case"end":return r.stop()}}),r,null,[[2,12]])})))()},getComments:function(t){console.log("%cindex.vue line:361 item","color: #007acc;",t),this.videoCourseCount=t.CourseVideo.length,this.comments=t.CourseVideo.map((function(t){return{videoTitle:t.videoTitle,comments:t.VideoComment}})),this.commentsDialog=!0},deleteComment:function(t){console.log("%cindex.vue line:385 id","color: #007acc;",t)},changeStatus:function(t,e){var r=this;return Object(n.a)(regeneratorRuntime.mark((function o(){var n;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,r.$axios.put("courseDistributor/".concat(t.idCourseDistributor),{courseId:t.courseId,distributorId:t.distributorId,distributorStatus:e});case 3:n=o.sent,console.log(n.data),r.getDistributors(t.courseId),r.distributorsDialog=!1,r.distributorsDialog=!0,o.next=13;break;case 10:o.prev=10,o.t0=o.catch(0),console.error(o.t0.response);case 13:case"end":return o.stop()}}),o,null,[[0,10]])})))()}}},v=d,m=(r(689),r(43)),_=r(60),h=r.n(_),f=r(758),x=r(447),y=r(449),C=r(501),w=r(458),k=r(731),D=r(485),j=r(515),V=r(200),O=r(199),S=r(123),P=r(450),$=r(460),E=r(57),T=r(456),N=r(465),R=r(448),I=r(441),A=r(483),component=Object(m.a)(v,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"CoursesPage"}},[r("v-dialog",{attrs:{transition:"slide-y-transition","max-width":"750px"},model:{value:t.distributorsDialog,callback:function(e){t.distributorsDialog=e},expression:"distributorsDialog"}},[r("v-card",{staticClass:"shadow-1 radius-1 pa-10",attrs:{color:"secondary"}},[r("v-toolbar",{staticClass:"shadow-1 radius-1 mb-10",attrs:{color:"primary"}},[r("h4",[t._v("الموزعين")]),t._v(" "),r("v-spacer"),t._v(" "),r("v-btn",{attrs:{color:"error",icon:""},on:{click:function(e){t.distributorsDialog=!1}}},[r("v-icon",[t._v("close")])],1)],1),t._v(" "),r("v-data-table",{staticClass:"pa-5 secondary courses__table",attrs:{headers:t.distributorsHeaders,items:t.distributors,"items-per-page":15},on:{"update:items":function(e){t.distributors=e}},scopedSlots:t._u([{key:"item.distributorStatus",fn:function(e){var o=e.item;return[r("v-chip",{attrs:{color:t._f("theStatus")(o.distributorStatus)}},[t._v(t._s(o.distributorStatus))])]}},{key:"item.actions",fn:function(e){var o=e.item;return[r("v-menu",{attrs:{transition:"slide-y-transition"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,n=e.attrs;return[r("v-btn",t._g(t._b({attrs:{color:"warning",icon:"",small:""}},"v-btn",n,!1),o),[r("v-icon",[t._v("published_with_changes")])],1)]}}],null,!0)},[t._v(" "),r("v-list",{attrs:{nav:"",dense:"",color:"primary"}},[r("v-list-item",{staticClass:"text--text",on:{click:function(e){return t.changeStatus(o,"ACCEPTED")}}},[t._v("ACCEPTED")]),t._v(" "),r("v-divider",{staticClass:"secondary mb-2 mt-2"}),t._v(" "),r("v-list-item",{staticClass:"text--text",on:{click:function(e){return t.changeStatus(o,"PENDING")}}},[t._v("PENDING")]),t._v(" "),r("v-divider",{staticClass:"secondary mb-2 mt-2"}),t._v(" "),r("v-list-item",{staticClass:"text--text",on:{click:function(e){return t.changeStatus(o,"CANCELLED")}}},[t._v("CANCELLED")])],1)],1)]}}],null,!0)})],1)],1),t._v(" "),r("v-dialog",{attrs:{transition:"slide-y-transition","max-width":"1300px"},model:{value:t.commentsDialog,callback:function(e){t.commentsDialog=e},expression:"commentsDialog"}},[r("v-card",{staticClass:"shadow-1 radius-1 pa-10",attrs:{color:"secondary"}},[r("v-toolbar",{staticClass:"shadow-1 radius-1 mb-10",attrs:{color:"primary"}},[r("h4",[t._v("التعليقات")]),t._v(" "),r("v-spacer"),t._v(" "),r("v-btn",{attrs:{color:"error",icon:""},on:{click:function(e){t.commentsDialog=!1}}},[r("v-icon",[t._v("close")])],1)],1),t._v(" "),t.videoCourseCount>0?r("div",t._l(t.comments,(function(e){return r("v-row",{key:e.comments.idVideoComment,staticClass:"primary shadow-1 radius-1",attrs:{justify:"center"}},[r("v-col",{attrs:{cols:"12"}},[r("v-sheet",{staticClass:"shadow-1 radius-1 pa-5 mb-2 mt-2",attrs:{color:"primary"}},[t._v("\n              "+t._s(e.videoTitle)+"\n            ")])],1),t._v(" "),t._l(e.comments,(function(content){return r("v-col",{key:content.idVideoComment,attrs:{cols:"12",sm:"12",md:"4",lg:"4",xl:"4"}},[r("v-card",{staticClass:"shadow-1 radius-1",attrs:{color:"secondary"}},[r("div",{staticClass:"comments"},[r("div",{staticClass:"comments__header"},[r("div",{staticClass:"comments__header__date primary pa-2 mb-2 shadow-1 radius-1"},[t._v("\n                    "+t._s(content.createdAt.split("T")[0])+"\n                  ")]),t._v(" "),r("div",{staticClass:"comments__header__user"},[r("v-icon",[t._v("person")]),t._v(" "),r("div",{staticClass:"comments__header__user__name"},[t._v("\n                      "+t._s(content.createdBy)+"\n                    ")])],1)]),t._v(" "),r("div",{staticClass:"comments__divider"}),t._v(" "),r("div",{staticClass:"comments__body"},[r("div",{staticClass:"comments__body__content"},[t._v("\n                    "+t._s(content.userComment)+"\n                  ")])])])])],1)}))],2)})),1):r("v-alert",{staticClass:"shadow-1 radius-1",attrs:{border:"left",color:"warning",elevation:"2",light:""}},[r("h1",[t._v("لا يوجد تعليقات")])])],1)],1),t._v(" "),r("v-data-table",{staticClass:"shadow-1 radius-1 pa-5 secondary courses__table",attrs:{headers:t.headers,items:t.courses,"items-per-page":15,"item-key":"courseId",search:t.search},on:{"update:items":function(e){t.courses=e}},scopedSlots:t._u([{key:"top",fn:function(){return[r("v-toolbar",{staticClass:"shadow-1 radius-1",attrs:{flat:"",color:"primary"}},[r("div",{staticClass:"d-flex align-center justify-evenly",staticStyle:{width:"100%"}},[r("v-toolbar-title",{staticStyle:{flex:"1 1 auto"}},[t._v("الكورسات")]),t._v(" "),r("v-text-field",{staticStyle:{flex:"1 1 auto"},attrs:{color:"text",placeholder:"الكورسات...",outlined:"","hide-details":"",dense:"",clearable:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t._v(" "),r("v-tooltip",{attrs:{bottom:"",transition:"slide-y-transition",color:"text"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,n=e.attrs;return[r("v-btn",t._g(t._b({staticClass:"mr-10",attrs:{icon:"",color:"text"},on:{click:function(e){return t.$router.push("/courses/add")}}},"v-btn",n,!1),o),[r("v-icon",[t._v("mdi-plus")])],1)]}}])},[t._v(" "),r("span",{staticClass:"primary--text"},[t._v("اضافة كورس")])])],1)])]},proxy:!0},{key:"item.coursePath",fn:function(e){var o=e.item;return[r("img",{staticClass:"table__image shadow-1",attrs:{src:t.$axios.defaults.baseURL+o.coursePath}}),t._v(" "),r("div",{staticClass:"hover__preview"},[r("div",{staticClass:"hover__preview__content primary shadow-1 radius-1"},[r("img",{staticClass:"hover__preview__img",attrs:{src:t.$axios.defaults.baseURL+o.coursePath}})])])]}},{key:"item.actions",fn:function(e){var o=e.item;return[r("v-btn",{attrs:{icon:"",color:"success"},on:{click:function(e){return e.preventDefault(),t.OpenCourse(o)}}},[r("v-icon",[t._v("mdi-eye")])],1),t._v(" "),r("v-btn",{attrs:{icon:"",color:"warning"},on:{click:function(e){return e.preventDefault(),t.$router.push("/courses/"+o.idCourse+"/update")}}},[r("v-icon",[t._v("edit")])],1),t._v(" "),r("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(e){return e.preventDefault(),t.deleteCourse(o)}}},[r("v-icon",[t._v("delete")])],1),t._v(" "),r("v-btn",{attrs:{icon:"",color:"info"},on:{click:function(e){return e.preventDefault(),t.getDistributors(o.idCourse)}}},[r("v-icon",[t._v("people")])],1),t._v(" "),r("v-btn",{attrs:{icon:"",color:"success"},on:{click:function(e){return e.preventDefault(),t.getComments(o)}}},[r("v-icon",[t._v("mark_chat_unread")])],1)]}}],null,!0)})],1)}),[],!1,null,null,null);e.default=component.exports;h()(component,{VAlert:f.a,VBtn:x.a,VCard:y.a,VChip:C.a,VCol:w.a,VDataTable:k.a,VDialog:D.a,VDivider:j.a,VIcon:V.a,VList:O.a,VListItem:S.a,VMenu:P.a,VRow:$.a,VSheet:E.a,VSpacer:T.a,VTextField:N.a,VToolbar:R.a,VToolbarTitle:I.a,VTooltip:A.a})}}]);